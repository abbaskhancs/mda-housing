{"level":"error","message":"Login error: JWT_SECRET not configured","service":"mda-housing-api","stack":"Error: JWT_SECRET not configured\n    at generateToken (C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:37:15)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:88:23","timestamp":"2025-09-06T11:22:39.279Z"}
{"level":"error","message":"Login error: JWT_SECRET not configured","service":"mda-housing-api","stack":"Error: JWT_SECRET not configured\n    at generateToken (C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:37:15)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:88:23","timestamp":"2025-09-06T11:23:46.026Z"}
{"level":"error","message":"Login error: JWT_SECRET not configured","service":"mda-housing-api","stack":"Error: JWT_SECRET not configured\n    at generateToken (C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:37:15)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:91:23","timestamp":"2025-09-06T11:24:45.932Z"}
{"level":"error","message":"GUARD_INTAKE_COMPLETE error: Database error","service":"mda-housing-api","stack":"Error: Database error\n    at Object.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\test\\guards.test.ts:674:51)\n    at Promise.then.completed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-09-06T18:36:03.384Z"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"GET","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\workflow.js:165:50","timestamp":"2025-09-06T18:38:19.528Z","url":"/api/workflow/transitions?from=SUBMITTED&applicationId=cmf8lxa6w000cmtio1fmqqh1d&dryRun=true","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"GET","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\workflow.js:165:50","timestamp":"2025-09-06T18:38:19.595Z","url":"/api/workflow/transitions?from=SUBMITTED&applicationId=cmf8lxa6w000cmtio1fmqqh1d&dryRun=true","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\workflow.js:313:46","timestamp":"2025-09-06T18:38:19.618Z","url":"/api/workflow/applications/cmf8lxa6w000cmtio1fmqqh1d/transition","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"GET","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\workflow.js:165:50","timestamp":"2025-09-06T18:38:19.640Z","url":"/api/workflow/transitions?from=UNDER_SCRUTINY&applicationId=cmf8lxa6w000cmtio1fmqqh1d&dryRun=true","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\applications.js:505:46","timestamp":"2025-09-06T18:38:19.659Z","url":"/api/applications/cmf8lxa6w000cmtio1fmqqh1d/clearances","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\applications.js:505:46","timestamp":"2025-09-06T18:38:19.677Z","url":"/api/applications/cmf8lxa6w000cmtio1fmqqh1d/clearances","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\applications.js:887:46","timestamp":"2025-09-06T18:38:19.719Z","url":"/api/applications/cmf8lxa6w000cmtio1fmqqh1d/transfer-deed/draft","userAgent":"node"}
{"error":"Application not found","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\applications.js:955:46","timestamp":"2025-09-06T18:38:19.730Z","url":"/api/applications/cmf8lxa6w000cmtio1fmqqh1d/transfer-deed/finalize","userAgent":"node"}
{"level":"error","message":"GUARD_INTAKE_COMPLETE error: Database error","service":"mda-housing-api","stack":"Error: Database error\n    at Object.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\test\\guards.test.ts:674:51)\n    at Promise.then.completed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-09-06T18:44:41.327Z"}
{"clientVersion":"5.22.0","code":"P2003","level":"error","message":"Failed to generate document: \nInvalid `prisma.document.upsert()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\documentService.ts:84:46\n\n  81 const downloadUrl = storageService.generateDownloadUrl(applicationId, expiresInHours * 3600);\n  82 \n  83 // Save to database\n→ 84 const document = await prisma.document.upsert(\nForeign key constraint violated: `foreign key`","meta":{"field_name":"foreign key","modelName":"Document"},"name":"PrismaClientKnownRequestError","service":"mda-housing-api","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.document.upsert()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\documentService.ts:84:46\n\n  81 const downloadUrl = storageService.generateDownloadUrl(applicationId, expiresInHours * 3600);\n  82 \n  83 // Save to database\n→ 84 const document = await prisma.document.upsert(\nForeign key constraint violated: `foreign key`\n    at $n.handleRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async DocumentService.generateDocument (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\documentService.ts:84:24)\n    at async testSignedDownloads (C:\\Abbas\\Coding\\MDA_Housing\\test-signed-downloads.temp.ts:60:27)","timestamp":"2025-09-06T19:07:16.737Z"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"Failed to download file: ENOENT: no such file or directory, open 'C:\\Abbas\\Coding\\MDA_Housing\\storage\\C:\\Abbas\\Coding\\MDA_Housing\\storage\\documents\\1757187642401-a8e1a2443f2699b2-milestone-test-file.pdf'","path":"C:\\Abbas\\Coding\\MDA_Housing\\storage\\C:\\Abbas\\Coding\\MDA_Housing\\storage\\documents\\1757187642401-a8e1a2443f2699b2-milestone-test-file.pdf","service":"mda-housing-api","stack":"Error: ENOENT: no such file or directory, open 'C:\\Abbas\\Coding\\MDA_Housing\\storage\\C:\\Abbas\\Coding\\MDA_Housing\\storage\\documents\\1757187642401-a8e1a2443f2699b2-milestone-test-file.pdf'\n    at async open (node:internal/fs/promises:639:25)\n    at async Object.readFile (node:internal/fs/promises:1243:14)\n    at async FileStorageService.downloadFile (C:\\Abbas\\Coding\\MDA_Housing\\dist\\services\\fileStorageService.js:53:28)\n    at async testMilestone31 (C:\\Abbas\\Coding\\MDA_Housing\\test-milestone-3-1-simple.js:336:32)","syscall":"open","timestamp":"2025-09-06T19:40:42.419Z"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-07T17:04:10.858Z","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-07T17:04:21.469Z","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-07T17:04:22.887Z","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"}
{"error":"JWT_SECRET not configured","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: JWT_SECRET not configured\n    at generateToken (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:23:11)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:72:17","timestamp":"2025-09-07T17:04:30.058Z","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"}
{"code":"INVALID_DOC_TYPE","level":"error","message":"File upload error: Invalid or missing document type","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:31:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)","statusCode":400,"storageErrors":[],"timestamp":"2025-09-08T05:45:55.011Z"}
{"error":"Invalid or missing document type","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:31:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)","timestamp":"2025-09-08T05:45:55.016Z","url":"/api/applications/cmfap7nwn0004t792nqt5haca/attachments","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"code":"INVALID_DOC_TYPE","level":"error","message":"File upload error: Invalid or missing document type","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:31:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)","statusCode":400,"storageErrors":[],"timestamp":"2025-09-08T05:47:31.941Z"}
{"error":"Invalid or missing document type","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:31:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)","timestamp":"2025-09-08T05:47:31.944Z","url":"/api/applications/cmfap9qrg000dt7928poejjop/attachments","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"code":"INVALID_DOC_TYPE","level":"error","message":"File upload error: Invalid or missing document type","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:31:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)","statusCode":400,"storageErrors":[],"timestamp":"2025-09-08T05:47:38.028Z"}
{"error":"Invalid or missing document type","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:31:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)","timestamp":"2025-09-08T05:47:38.031Z","url":"/api/applications/cmfap9vgj000mt792paq1xtqv/attachments","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Error ensuring bucket exists: connect ECONNREFUSED 127.0.0.1:9000","port":9000,"service":"mda-housing-api","stack":"Error: connect ECONNREFUSED 127.0.0.1:9000\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-14T09:35:51.285Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Failed to initialize MinIO bucket: connect ECONNREFUSED 127.0.0.1:9000","port":9000,"service":"mda-housing-api","stack":"Error: connect ECONNREFUSED 127.0.0.1:9000\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-14T09:35:51.294Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.421Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.422Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.423Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.424Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.425Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.426Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.427Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.427Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.428Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.429Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T04:49:41.430Z"}
{"code":"ECONNREFUSED","level":"error","message":"Error ensuring bucket exists:","service":"mda-housing-api","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-09-16T04:49:41.436Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.785Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.787Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.787Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.789Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.791Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.793Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.794Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.794Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.795Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.795Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.796Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.796Z"}
{"level":"error","message":"Unhandled Rejection at:","service":"mda-housing-api","timestamp":"2025-09-16T05:25:53.797Z"}
{"error":"\nInvalid `prisma.user.findFirst()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:38:36\n\n  35 router.post('/login', (0, validation_1.validate)(validation_2.authSchemas.login), (0, errorHandler_1.asyncHandler)(async (req, res) => {\n  36     const { username, password } = req.body;\n  37     // Find user by username or email\n→ 38     const user = await prisma.user.findFirst(\nPrisma Client could not locate the Query Engine for runtime \"windows\".\n\nThis happened because Prisma Client was generated for \"debian-openssl-3.0.x\", but the actual deployment required \"windows\".\nAdd \"windows\" to `binaryTargets` in the \"schema.prisma\" file and run `prisma generate` after saving it:\n\ngenerator client {\n  provider      = \"prisma-client-js\"\n  binaryTargets = [\"native\", \"windows\"]\n}\n\nThe following locations have been searched:\n  C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\.prisma\\client\n  C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\n  /media/sf_Coding/MDA_Housing/node_modules/@prisma/client\n  /tmp/prisma-engines\n  C:\\Abbas\\Coding\\MDA_Housing\\prisma","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"PrismaClientInitializationError: \nInvalid `prisma.user.findFirst()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:38:36\n\n  35 router.post('/login', (0, validation_1.validate)(validation_2.authSchemas.login), (0, errorHandler_1.asyncHandler)(async (req, res) => {\n  36     const { username, password } = req.body;\n  37     // Find user by username or email\n→ 38     const user = await prisma.user.findFirst(\nPrisma Client could not locate the Query Engine for runtime \"windows\".\n\nThis happened because Prisma Client was generated for \"debian-openssl-3.0.x\", but the actual deployment required \"windows\".\nAdd \"windows\" to `binaryTargets` in the \"schema.prisma\" file and run `prisma generate` after saving it:\n\ngenerator client {\n  provider      = \"prisma-client-js\"\n  binaryTargets = [\"native\", \"windows\"]\n}\n\nThe following locations have been searched:\n  C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\.prisma\\client\n  C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\n  /media/sf_Coding/MDA_Housing/node_modules/@prisma/client\n  /tmp/prisma-engines\n  C:\\Abbas\\Coding\\MDA_Housing\\prisma\n    at $n.handleRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:7615)\n    at $n.handleAndLogRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async l (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:38:18","timestamp":"2025-09-16T05:53:41.538Z","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.19041.6216"}
{"code":"INVALID_DOC_TYPE","level":"error","message":"File upload error: Invalid or missing document type","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\upload.js:33:50)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)","statusCode":400,"storageErrors":[],"timestamp":"2025-09-16T06:00:43.769Z"}
{"error":"Invalid or missing document type","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid or missing document type\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\upload.js:33:50)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)","timestamp":"2025-09-16T06:00:43.772Z","url":"/api/applications/cmfm59iy0000493py8pssrfkk/attachments","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:62:22","timestamp":"2025-09-16T11:26:49.107Z","url":"/api/auth/login","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:04:55.855Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:492:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:05:43.405Z","url":"/api/applications/cmfo463sh0003taabpugvo1oh/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:512:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:06:20.110Z","url":"/api/applications/cmfo470iy000dtaabuqjojdm8/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:512:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:07:19.628Z","url":"/api/applications/cmfo489h0000ntaablh0mlyky/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:22:40.647Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:22:40.652Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:23:08.378Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:23:08.388Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:23:08.400Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\auth.ts:50:22","timestamp":"2025-09-17T15:23:08.413Z","url":"/api/auth/login","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:492:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:24:06.448Z","url":"/api/applications/cmfo4trs50004sigmt6ilehsx/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:512:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:24:52.273Z","url":"/api/applications/cmfo4uun4000hsigmoabv1ywz/transition","userAgent":"axios/1.12.2"}
{"code":"LIMIT_UNEXPECTED_FILE","field":"file","level":"error","message":"File upload error: Unexpected field","name":"MulterError","service":"mda-housing-api","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:40:19)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)","storageErrors":[],"timestamp":"2025-09-17T15:26:20.755Z"}
{"error":"Unexpected field","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"MulterError: Unexpected field\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:40:19)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)\n    at SBMH.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)","timestamp":"2025-09-17T15:26:20.757Z","url":"/api/applications/cmfo4wq1o000usigm3crle3co/attachments","userAgent":"axios/1.12.2"}
{"code":"INVALID_FILE_TYPE","level":"error","message":"File upload error: Invalid file type. Only PDF, images, and Word documents are allowed","service":"mda-housing-api","stack":"Error: Invalid file type. Only PDF, images, and Word documents are allowed\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:23:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)","statusCode":400,"storageErrors":[],"timestamp":"2025-09-17T15:27:30.090Z"}
{"error":"Invalid file type. Only PDF, images, and Word documents are allowed","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid file type. Only PDF, images, and Word documents are allowed\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at fileFilter (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:23:26)\n    at wrappedFileFilter (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:109:7)\n    at Multipart.emit (node:events:518:28)\n    at Multipart.emit (node:domain:489:12)\n    at HeaderParser.cb (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\streamsearch\\lib\\sbmh.js:200:10)","timestamp":"2025-09-17T15:27:30.092Z","url":"/api/applications/cmfo4y8ja0013sigmn17ecsd0/attachments","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Documents not marked as original seen: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Documents not marked as original seen: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:512:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:28:22.772Z","url":"/api/applications/cmfo4zczr001csigmkwi5baj9/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Only OWO can complete scrutiny","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Only OWO can complete scrutiny\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:512:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:28:49.173Z","url":"/api/applications/cmfo4zwfj002lsigm73xqdiek/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: OWO review not completed","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: OWO review not completed\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:512:24\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:448:18","timestamp":"2025-09-17T15:30:09.930Z","url":"/api/applications/cmfo51nna003xsigm5j7amr2c/transition","userAgent":"axios/1.12.2"}
{"error":"No files provided","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: No files provided\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:581:22\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:151:21\n    at Layer.handle [as handle_request] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:76:7\n    at multerMiddleware (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\multer\\lib\\make-middleware.js:13:41)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\upload.ts:63:38\n    at Layer.handle [as handle_request] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-09-17T17:15:32.099Z","url":"/api/applications/cmfo8t2980003m2hjhi18l8e5/attachments","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:16:30.419Z","url":"/api/workflow/applications/cmfo8ue33000cm2hjq3gtyrfz/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:17:15.119Z","url":"/api/workflow/applications/cmfo8vcl2000lm2hjaphaafyi/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:41:29.604Z","url":"/api/workflow/applications/cmfo9qg960003grap6khwdufc/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:360:22","timestamp":"2025-09-17T17:42:14.434Z","url":"/api/workflow/applications/cmfo9rhe9000tgrap6f1ojsib/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:42:14.448Z","url":"/api/workflow/applications/cmfo9rhe9000tgrap6f1ojsib/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:42:14.602Z","url":"/api/workflow/applications/cmfo9rhe9000tgrap6f1ojsib/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:360:22","timestamp":"2025-09-17T17:43:04.321Z","url":"/api/workflow/applications/cmfo9skwd001hgrap6z8y15xs/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:43:04.331Z","url":"/api/workflow/applications/cmfo9skwd001hgrap6z8y15xs/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:43:04.443Z","url":"/api/workflow/applications/cmfo9skwd001hgrap6z8y15xs/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:360:22","timestamp":"2025-09-17T17:43:34.970Z","url":"/api/workflow/applications/cmfo9t8le0025grapejnso7ii/transition","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:360:22","timestamp":"2025-09-17T17:44:37.860Z","url":"/api/workflow/applications/cmfo9uk4c002egrapctm5d71b/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:45:27.718Z","url":"/api/workflow/applications/cmfo9vnd8002ngrap5bol66qw/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T17:49:58.454Z","url":"/api/workflow/applications/cmfoa1ff5004jgrapznlza2od/transition","userAgent":"axios/1.12.2"}
{"error":"Application must be in Accounts Pending stage","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application must be in Accounts Pending stage\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:1726:22","timestamp":"2025-09-17T18:48:22.750Z","url":"/api/applications/cmfoc4jb4000c11859529f19s/accounts/set-pending-payment","userAgent":"axios/1.12.2"}
{"error":"Application must be in Accounts Pending stage","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application must be in Accounts Pending stage\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:1774:22","timestamp":"2025-09-17T18:48:22.778Z","url":"/api/applications/cmfoc4jb4000c11859529f19s/accounts/raise-objection","userAgent":"axios/1.12.2"}
{"error":"Application must be in Accounts Pending stage","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application must be in Accounts Pending stage\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:1726:22","timestamp":"2025-09-17T18:49:47.104Z","url":"/api/applications/cmfoc6cdi000q118503c2v2ha/accounts/set-pending-payment","userAgent":"axios/1.12.2"}
{"error":"Application must be in Accounts Pending stage","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Application must be in Accounts Pending stage\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:1774:22","timestamp":"2025-09-17T18:49:48.318Z","url":"/api/applications/cmfoc6e7s001j1185sm5syrqh/accounts/raise-objection","userAgent":"axios/1.12.2"}
{"error":"Stage not found","ip":"::1","level":"error","message":"Error occurred:","method":"GET","service":"mda-housing-api","stack":"Error: Stage not found\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:218:22","timestamp":"2025-09-17T19:05:20.232Z","url":"/api/workflow/transitions/cmfoc8p8s002c1185bbu0obzl","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: OWO review for Accounts not completed","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: OWO review for Accounts not completed\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:360:22","timestamp":"2025-09-17T19:16:38.552Z","url":"/api/workflow/applications/cmfoc8p8s002c1185bbu0obzl/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T19:19:48.072Z","url":"/api/workflow/applications/cmfod8y0g000ersrgt3o68tjj/transition","userAgent":"axios/1.12.2"}
{"error":"Invalid transition","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid transition\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\errorHandler.ts:28:10)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\workflow.ts:340:22","timestamp":"2025-09-17T19:20:35.127Z","url":"/api/workflow/applications/cmfoc8p8s002c1185bbu0obzl/transition","userAgent":"axios/1.12.2"}
{"error":"Must be a positive number","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Must be a positive number\n    at Object.transform (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\schemas\\validation.ts:10:11)\n    at ZodEffects._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3309:39)\n    at ZodOptional._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3353:36)\n    at ZodObject._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:1983:37)\n    at ZodObject._parseSync (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:106:29)\n    at ZodObject.safeParse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:135:29)\n    at ZodObject.parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:117:29)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\validation.ts:8:14\n    at Layer.handle [as handle_request] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-09-17T19:24:17.430Z","url":"/api/applications/cmfodeqjc0016rsrgojcfff35/accounts","userAgent":"axios/1.12.2"}
{"error":"Must be a positive number","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Must be a positive number\n    at Object.transform (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\schemas\\validation.ts:10:11)\n    at ZodEffects._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3309:39)\n    at ZodOptional._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3353:36)\n    at ZodObject._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:1983:37)\n    at ZodObject._parseSync (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:106:29)\n    at ZodObject.safeParse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:135:29)\n    at ZodObject.parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:117:29)\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\middleware\\validation.ts:8:14\n    at Layer.handle [as handle_request] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-09-17T19:36:31.025Z","url":"/api/applications/cmfodugst000ww25fkx3xig0i/accounts","userAgent":"axios/1.12.2"}
{"level":"error","message":"Error verifying payment: Accounts breakdown not found","service":"mda-housing-api","stack":"Error: Accounts breakdown not found\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:149:15\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async verifyPayment (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:134:20)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:880:18","timestamp":"2025-09-17T19:36:31.069Z"}
{"error":"Accounts breakdown not found","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Accounts breakdown not found\n    at C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:149:15\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async verifyPayment (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:134:20)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:880:18","timestamp":"2025-09-17T19:36:31.079Z","url":"/api/applications/cmfodugst000ww25fkx3xig0i/accounts/verify-payment","userAgent":"axios/1.12.2"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Error creating ACCOUNTS clearance: \nInvalid `prisma.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:46\n\n  481 }\n  482 \n  483 // Create ACCOUNTS clearance\n→ 484 const clearance = await prisma.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)","meta":{"modelName":"Clearance","target":["applicationId","sectionId"]},"name":"PrismaClientKnownRequestError","service":"mda-housing-api","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:46\n\n  481 }\n  482 \n  483 // Create ACCOUNTS clearance\n→ 484 const clearance = await prisma.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)\n    at $n.handleRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async createAccountsClearance (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:23)\n    at async verifyPayment (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:199:26)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:880:18","timestamp":"2025-09-17T19:37:27.648Z"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"Error verifying payment: \nInvalid `prisma.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:46\n\n  481 }\n  482 \n  483 // Create ACCOUNTS clearance\n→ 484 const clearance = await prisma.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)","meta":{"modelName":"Clearance","target":["applicationId","sectionId"]},"name":"PrismaClientKnownRequestError","service":"mda-housing-api","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:46\n\n  481 }\n  482 \n  483 // Create ACCOUNTS clearance\n→ 484 const clearance = await prisma.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)\n    at $n.handleRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async createAccountsClearance (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:23)\n    at async verifyPayment (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:199:26)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:880:18","timestamp":"2025-09-17T19:37:27.654Z"}
{"error":"\nInvalid `prisma.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:46\n\n  481 }\n  482 \n  483 // Create ACCOUNTS clearance\n→ 484 const clearance = await prisma.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:46\n\n  481 }\n  482 \n  483 // Create ACCOUNTS clearance\n→ 484 const clearance = await prisma.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)\n    at $n.handleRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async createAccountsClearance (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:484:23)\n    at async verifyPayment (C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\services\\accountsService.ts:199:26)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\backend\\src\\routes\\applications.ts:880:18","timestamp":"2025-09-17T19:37:27.661Z","url":"/api/applications/cmfodvnjl001qw25f8n3vf1it/accounts/verify-payment","userAgent":"axios/1.12.2"}
{"error":"Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Transition not allowed: Missing required documents: AllotmentLetter, PrevTransferDeed, CNIC_Seller, CNIC_Buyer, UtilityBill_Latest, Photo_Seller, Photo_Buyer\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\workflow.js:347:46","timestamp":"2025-09-18T09:13:52.439Z","url":"/api/workflow/applications/cmfp71jph001512u99h2mpx2z/transition","userAgent":"axios/1.12.2"}
{"clientVersion":"5.22.0","code":"P2002","level":"error","message":"GUARD_SENT_TO_BCA_HOUSING error: \nInvalid `tx.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\dist\\guards\\workflowGuards.js:972:40\n\n  969 if (clearancesToCreate.length > 0) {\n  970     await prisma.$transaction(async (tx) => {\n  971         for (const clearanceData of clearancesToCreate) {\n→ 972             await tx.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)","meta":{"modelName":"Clearance","target":["applicationId","sectionId"]},"name":"PrismaClientKnownRequestError","service":"mda-housing-api","stack":"PrismaClientKnownRequestError: \nInvalid `tx.clearance.create()` invocation in\nC:\\Abbas\\Coding\\MDA_Housing\\dist\\guards\\workflowGuards.js:972:40\n\n  969 if (clearancesToCreate.length > 0) {\n  970     await prisma.$transaction(async (tx) => {\n  971         for (const clearanceData of clearancesToCreate) {\n→ 972             await tx.clearance.create(\nUnique constraint failed on the fields: (`applicationId`,`sectionId`)\n    at $n.handleRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at async l (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\dist\\guards\\workflowGuards.js:972:21\n    at async Proxy._transactionWithCallback (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at async GUARD_SENT_TO_BCA_HOUSING (C:\\Abbas\\Coding\\MDA_Housing\\dist\\guards\\workflowGuards.js:970:13)\n    at async executeGuard (C:\\Abbas\\Coding\\MDA_Housing\\dist\\guards\\workflowGuards.js:1617:16)\n    at async C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\workflow.js:265:35\n    at async Promise.all (index 1)","timestamp":"2025-09-18T09:19:29.652Z"}
{"error":"Invalid credentials","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Invalid credentials\n    at createError (C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\errorHandler.js:18:12)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\routes\\auth.js:58:46","timestamp":"2025-09-18T09:45:28.053Z","url":"/api/auth/login","userAgent":"node"}
{"error":"Must be a positive number","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Must be a positive number\n    at Object.transform (C:\\Abbas\\Coding\\MDA_Housing\\dist\\schemas\\validation.js:12:15)\n    at ZodEffects._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3309:39)\n    at ZodOptional._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3353:36)\n    at ZodObject._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:1983:37)\n    at ZodObject._parseSync (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:106:29)\n    at ZodObject.safeParse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:135:29)\n    at ZodObject.parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:117:29)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\validation.js:9:20\n    at Layer.handle [as handle_request] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-09-18T09:49:30.179Z","url":"/api/applications/cmfp8bdt1003tu6wcx7idh3wl/accounts","userAgent":"node"}
{"error":"Must be a positive number","ip":"::1","level":"error","message":"Error occurred:","method":"POST","service":"mda-housing-api","stack":"Error: Must be a positive number\n    at Object.transform (C:\\Abbas\\Coding\\MDA_Housing\\dist\\schemas\\validation.js:12:15)\n    at ZodEffects._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3309:39)\n    at ZodOptional._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:3353:36)\n    at ZodObject._parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:1983:37)\n    at ZodObject._parseSync (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:106:29)\n    at ZodObject.safeParse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:135:29)\n    at ZodObject.parse (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\zod\\v3\\types.cjs:117:29)\n    at C:\\Abbas\\Coding\\MDA_Housing\\dist\\middleware\\validation.js:9:20\n    at Layer.handle [as handle_request] (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Abbas\\Coding\\MDA_Housing\\node_modules\\express\\lib\\router\\route.js:149:13)","timestamp":"2025-09-18T09:52:05.583Z","url":"/api/applications/cmfp8epw10042u6wc9jihbqoz/accounts","userAgent":"node"}
